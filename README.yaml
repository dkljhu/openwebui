installation:
  python: python version 3.11.xx
    - python -m venv venv
  install: Installed openwebui using as PIP package (pip install open-webui)
    - pip install open-webui
    - pip install -r requirements.txt
  upgrade: To upgrade, run (pip install --upgrade open-webui)

openwebui system service:
    why: easier to manage start, stop, restart via systemctl
    edit_service_file: sudo nano /etc/systemd/system/openwebui.service
    commands:
      - sudo cp ./etc/systemd/system/openwebui.service /etc/systemd/system/openwebui.service
      - sudo systemctl enable openwebui
      - sudo systemctl start openwebui
      - sudo systemctl stop openwebui
      - sudo systemctl restart openwebui
      
nginx:
  why: using nginx as gateway to support SSL
  openwebui_port: default port is 8080, nginx is 443, domain copello0.no-ip.biz can be mapped to 192.168.254.xx:443
  commmands:
    - sudo cp ./etc/nginx/sites-available/openwebui.conf /etc/nginx/sites-available/openwebui.conf
    - sudo nano /etc/nginx/sites-available/openwebui.conf
    - sudo certbot --nginx
    - sudo ln -s /etc/nginx/sites-available/openwebui.conf /etc/nginx/sites-enabled/
    - sudo rm /etc/nginx/sites-enabled/default

ollama:
  port_acccess: if you want to access ollama from other machine, you need allow ollama to listen on other devices
    - sudo systemctl edit ollama.service
    - Add the following under [Service] - Environment="OLLAMA_HOST=0.0.0.0:11434"
    - sudo systemctl daemon-reexec
    - sudo systemctl restart ollama

content:
  purpose: ignored from git, but use for RAG within openwebui
  rsync:
    - rsync -avzP content/ wwang@192.168.254.xx:~/Documents/openwebui/content/

